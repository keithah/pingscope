---
phase: 15-app-store-metadata-and-assets
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - AppStoreAssets/Metadata/app-name.txt
  - AppStoreAssets/Metadata/subtitle.txt
  - AppStoreAssets/Metadata/description.txt
  - AppStoreAssets/Metadata/keywords.txt
  - AppStoreAssets/Metadata/promotional-text.txt
  - AppStoreAssets/Metadata/copyright.txt
  - AppStoreAssets/Metadata/support-url.txt
  - AppStoreAssets/Metadata/review-notes.txt
  - Scripts/validate-metadata.sh
  - AppStoreAssets/README.md
autonomous: true
requirements:
  - META-01
  - META-02
  - META-03
  - META-04
  - META-11
  - META-12
  - META-13
  - META-14

must_haves:
  truths:
    - "App name 'PingScope' verified available within 30-char limit"
    - "Subtitle communicates core function within 30 chars"
    - "Description highlights differentiators in first 250 chars"
    - "Keywords optimized within 100 chars without trademarked terms"
    - "Review notes explain dual sandbox modes clearly"
  artifacts:
    - path: "AppStoreAssets/Metadata/app-name.txt"
      provides: "App Store app name"
      max_chars: 30
    - path: "AppStoreAssets/Metadata/subtitle.txt"
      provides: "App Store subtitle"
      max_chars: 30
    - path: "AppStoreAssets/Metadata/description.txt"
      provides: "App Store description with benefit-focused opening"
      max_chars: 4000
    - path: "AppStoreAssets/Metadata/keywords.txt"
      provides: "Optimized keyword list"
      max_chars: 100
    - path: "AppStoreAssets/Metadata/review-notes.txt"
      provides: "Explanation of dual sandbox modes"
      min_chars: 100
    - path: "Scripts/validate-metadata.sh"
      provides: "Character count validation"
      executable: true
  key_links:
    - from: "AppStoreAssets/Metadata/*.txt"
      to: "Scripts/validate-metadata.sh"
      via: "character limit validation"
      pattern: "echo -n.*wc -c"
    - from: "AppStoreAssets/Metadata/description.txt"
      to: "first 250 chars validation"
      via: "above-fold optimization check"
      pattern: "head -c 250"
---

<objective>
Create all App Store Connect metadata text content with optimized messaging and character limit validation.

Purpose: Prepare complete, validated metadata for App Store submission highlighting PingScope's differentiators (multi-host monitoring, gateway detection, dual display modes) while explaining dual sandbox distribution model to App Review.

Output: Eight metadata text files with automated validation script ensuring compliance with App Store Connect character limits.
</objective>

<execution_context>
@/Users/keith/.claude/get-shit-done/workflows/execute-plan.md
@/Users/keith/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-app-store-metadata-and-assets/15-RESEARCH.md
@.planning/phases/14-privacy-and-compliance/14-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create core metadata text files</name>
  <files>
    AppStoreAssets/Metadata/app-name.txt
    AppStoreAssets/Metadata/subtitle.txt
    AppStoreAssets/Metadata/description.txt
    AppStoreAssets/Metadata/keywords.txt
    AppStoreAssets/Metadata/promotional-text.txt
  </files>
  <action>
Create AppStoreAssets/Metadata/ directory and five core metadata files:

**1. app-name.txt** (≤30 chars):
```
PingScope
```
(9 chars - verify availability assumption from research)

**2. subtitle.txt** (≤30 chars):
```
Network Latency Monitor
```
(23 chars - matches research recommendation)

**3. description.txt** (≤4000 chars, optimize first 250):
First 250 characters (above the fold):
```
Professional network latency monitoring from your Mac menu bar. Track multiple hosts simultaneously with real-time graphs, automatic gateway detection, and comprehensive ping statistics. Choose between full and compact display modes.
```
(249 chars)

Full description continuing after fold:
```
Professional network latency monitoring from your Mac menu bar. Track multiple hosts simultaneously with real-time graphs, automatic gateway detection, and comprehensive ping statistics. Choose between full and compact display modes.

MULTI-HOST MONITORING
• Monitor multiple hosts at once with independent intervals
• Automatic gateway detection via network topology analysis
• Default hosts included (Google DNS, Cloudflare DNS)
• Custom host support with TCP, UDP, or ICMP methods

REAL-TIME VISUALIZATION
• Live latency graph with 1hr/10m/5m/1m time ranges
• Activity Monitor-style gradient visualization
• Detailed ping history with timestamps and statistics
• Color-coded status indicators (green/yellow/red)

FLEXIBLE DISPLAY MODES
• Full mode: comprehensive interface with graphs and history
• Compact mode: streamlined view for less screen space
• Stay-on-top floating window option
• Menu bar status with live latency updates

SMART NOTIFICATIONS
• Seven alert types (host down, restored, high latency, packet loss, gateway change, internet loss, intermittent)
• Per-host notification overrides
• Cooldown behavior to prevent alert fatigue
• Configurable thresholds for latency and packet loss

DUAL PING METHODS
• TCP ping: universal compatibility, works through most firewalls
• UDP ping: low overhead for DNS servers
• True ICMP ping: available in non-sandboxed Developer ID distribution

Requires macOS 13.0 or later. Designed for network administrators, developers, remote workers, and anyone monitoring network reliability.
```
(Total: ~1450 chars, well under 4000 limit)

**4. keywords.txt** (≤100 chars, comma-separated, no trademarked terms):
```
latency,network,monitor,connectivity,uptime,tcp,udp,graph,menu bar,gateway,multi-host,real-time
```
(97 chars - avoids "ping" trademark concern per research)

**5. promotional-text.txt** (≤170 chars, updateable):
```
Track multiple hosts with real-time latency graphs. Automatic gateway detection. Full and compact modes. Smart notifications. Professional network monitoring.
```
(158 chars - highlights key features without time-sensitive content)

  </action>
  <verify>
Validate character counts:
```bash
echo -n "$(cat AppStoreAssets/Metadata/app-name.txt)" | wc -c
echo -n "$(cat AppStoreAssets/Metadata/subtitle.txt)" | wc -c
echo -n "$(cat AppStoreAssets/Metadata/description.txt)" | wc -c
echo -n "$(cat AppStoreAssets/Metadata/keywords.txt)" | wc -c
echo -n "$(cat AppStoreAssets/Metadata/promotional-text.txt)" | wc -c
head -c 250 AppStoreAssets/Metadata/description.txt | wc -c
```

All outputs must be within limits: 30, 30, 4000, 100, 170, and ~200-250 respectively.
  </verify>
  <done>
Five metadata files exist with verified character counts. App name is "PingScope" (9 chars). Subtitle is "Network Latency Monitor" (23 chars). Description opens with benefit-focused 249-char paragraph. Keywords total 97 chars without trademarked terms. Promotional text is 158 chars.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create legal notices and review notes</name>
  <files>
    AppStoreAssets/Metadata/copyright.txt
    AppStoreAssets/Metadata/support-url.txt
    AppStoreAssets/Metadata/review-notes.txt
  </files>
  <action>
Create three supporting metadata files:

**1. copyright.txt** (standard format per research):
```
© 2026 Keith Irwin
```

**2. support-url.txt** (GitHub repo per research recommendation):
```
https://github.com/keirwl/pingscope
```
(Verify repo URL - use actual public repo if different)

**3. review-notes.txt** (detailed explanation of dual sandbox modes):
```
DUAL DISTRIBUTION MODEL

PingScope is distributed in two configurations:

1. APP STORE (SANDBOXED)
   - Sandbox enabled per App Store requirements
   - ICMP ping method hidden from UI (requires raw sockets not available in sandbox)
   - TCP and UDP ping methods fully functional
   - All other features identical to non-sandboxed build

2. DEVELOPER ID (NON-SANDBOXED)
   - Direct download from developer website
   - ICMP ping method available (uses non-privileged datagram ICMP sockets)
   - TCP and UDP ping methods also available
   - No sandbox restrictions

TESTING INSTRUCTIONS

For this App Store submission:
1. Method dropdown shows only TCP and UDP (ICMP correctly hidden)
2. TCP ping works (try port 80 to google.com)
3. UDP ping works (try port 53 to 8.8.8.8)
4. Menu bar updates with live latency values
5. All non-ICMP features function identically to v1.0

The app uses SandboxDetector utility to determine runtime environment and filters UI accordingly. This is NOT feature limitation - it's appropriate sandbox behavior. Users who need ICMP will use our Developer ID distribution.

PRIVACY & COMPLIANCE

- Privacy manifest embedded (UserDefaults with CA92.1)
- Export compliance declared (ITSAppUsesNonExemptEncryption=false)
- No data collection (Privacy Nutrition Label: Data Not Collected)
- Network client entitlement for TCP/UDP ping functionality

TEST CREDENTIALS: None required - app works without account/login.
```
(Total: ~1450 chars - comprehensive explanation for App Review team)

  </action>
  <verify>
Validate file existence and content:
```bash
test -f AppStoreAssets/Metadata/copyright.txt && echo "✓ copyright.txt exists"
test -f AppStoreAssets/Metadata/support-url.txt && echo "✓ support-url.txt exists"
test -f AppStoreAssets/Metadata/review-notes.txt && echo "✓ review-notes.txt exists"
grep -q "DUAL DISTRIBUTION" AppStoreAssets/Metadata/review-notes.txt && echo "✓ review notes explain dual sandbox modes"
grep -q "© 2026" AppStoreAssets/Metadata/copyright.txt && echo "✓ copyright year correct"
```

All checks should pass with ✓ output.
  </verify>
  <done>
Three supporting files exist. Copyright notice uses "© 2026 Keith Irwin" format. Support URL points to GitHub repo. Review notes explain dual sandbox modes with testing instructions, privacy compliance notes, and clear differentiation between App Store and Developer ID distributions.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create metadata validation script and README</name>
  <files>
    Scripts/validate-metadata.sh
    AppStoreAssets/README.md
  </files>
  <action>
Create automated validation script and documentation:

**1. Scripts/validate-metadata.sh** (based on research code example):
```bash
#!/bin/bash
# App Store Metadata Validation Script
# Source: Phase 15 Research - metadata character limit validation

METADATA_DIR="AppStoreAssets/Metadata"

validate_length() {
    local file=$1
    local limit=$2
    local label=$3

    if [ ! -f "$file" ]; then
        echo "⚠ $label: File not found ($file)"
        return 1
    fi

    local count=$(echo -n "$(cat "$file")" | wc -c | tr -d ' ')

    if [ "$count" -gt "$limit" ]; then
        echo "✗ $label: $count chars (exceeds $limit limit)"
        return 1
    else
        echo "✓ $label: $count/$limit chars"
        return 0
    fi
}

echo "App Store Metadata Validation"
echo "=============================="
echo ""

all_valid=true

validate_length "$METADATA_DIR/app-name.txt" 30 "App Name" || all_valid=false
validate_length "$METADATA_DIR/subtitle.txt" 30 "Subtitle" || all_valid=false
validate_length "$METADATA_DIR/description.txt" 4000 "Description" || all_valid=false
validate_length "$METADATA_DIR/keywords.txt" 100 "Keywords" || all_valid=false
validate_length "$METADATA_DIR/promotional-text.txt" 170 "Promotional Text" || all_valid=false

echo ""
echo "First 250 Characters (Above the Fold Preview):"
echo "=============================================="
echo ""
head -c 250 "$METADATA_DIR/description.txt"
echo ""
echo ""
echo "=============================================="

char_count=$(head -c 250 "$METADATA_DIR/description.txt" | wc -c | tr -d ' ')
echo "Character count: $char_count/250"

if [ "$char_count" -lt 200 ]; then
    echo "⚠ WARNING: Below recommended 200-250 character range"
fi

echo ""
echo "Keyword Analysis:"
if [ -f "$METADATA_DIR/keywords.txt" ]; then
    keyword_count=$(grep -o ',' "$METADATA_DIR/keywords.txt" | wc -l | tr -d ' ')
    keyword_count=$((keyword_count + 1))
    echo "  Number of keywords: $keyword_count"
    echo "  Content: $(cat "$METADATA_DIR/keywords.txt")"
fi

echo ""
if [ "$all_valid" = true ]; then
    echo "✓ All metadata validations passed"
    exit 0
else
    echo "✗ Validation failed - fix issues before upload"
    exit 1
fi
```

Make executable:
```bash
chmod +x Scripts/validate-metadata.sh
```

**2. AppStoreAssets/README.md** (documentation):
```markdown
# App Store Assets

App Store Connect submission materials for PingScope.

## Directory Structure

```
AppStoreAssets/
├── Metadata/           # Text content for App Store Connect
│   ├── app-name.txt
│   ├── subtitle.txt
│   ├── description.txt
│   ├── keywords.txt
│   ├── promotional-text.txt
│   ├── copyright.txt
│   ├── support-url.txt
│   └── review-notes.txt
├── Screenshots/        # 2880x1800 screenshots (created in Plan 15-02)
└── README.md          # This file
```

## Metadata Character Limits

| File | Limit | Current |
|------|-------|---------|
| app-name.txt | 30 | 9 |
| subtitle.txt | 30 | 23 |
| description.txt | 4000 | ~1450 |
| keywords.txt | 100 | 97 |
| promotional-text.txt | 170 | 158 |

## Validation

Run automated validation:

```bash
./Scripts/validate-metadata.sh
```

Expected output: All checks pass with ✓ markers.

## Upload Instructions

1. Log in to [App Store Connect](https://appstoreconnect.apple.com)
2. Navigate to PingScope app listing
3. Copy content from each .txt file to corresponding field
4. Upload screenshots from Screenshots/ directory (Plan 15-02)
5. Submit for review

## Key Messaging

**Differentiators highlighted:**
- Multi-host monitoring with independent intervals
- Automatic gateway detection
- Dual display modes (full + compact)
- Real-time latency graphs
- Smart notification system

**First 250 chars optimize for:**
- Professional positioning
- Core value proposition (menu bar convenience)
- Key features (multi-host, graphs, gateway detection)
- User benefit focus

**Keywords avoid:**
- Trademarked terms ("ping" golf trademark)
- Competitor names
- Generic filler words

## Review Notes Strategy

Explains dual sandbox distribution model clearly to App Review team:
- App Store build: TCP/UDP only (ICMP hidden)
- Developer ID build: TCP/UDP/ICMP available
- Emphasizes feature parity except sandbox-restricted ICMP
- Provides testing instructions for App Review
```

  </action>
  <verify>
Validate script and README:
```bash
test -x Scripts/validate-metadata.sh && echo "✓ Script is executable"
bash -n Scripts/validate-metadata.sh && echo "✓ Script syntax valid"
./Scripts/validate-metadata.sh && echo "✓ All metadata validations pass"
test -f AppStoreAssets/README.md && echo "✓ README exists"
grep -q "Character Limits" AppStoreAssets/README.md && echo "✓ README documents limits"
```

All checks should pass. validate-metadata.sh should show ✓ for all five files and exit 0.
  </verify>
  <done>
Validation script exists at Scripts/validate-metadata.sh with executable permissions. Script validates all five core metadata files against character limits. README documents directory structure, character limits, validation instructions, and upload workflow. Running validate-metadata.sh shows all metadata files pass character limit checks.
  </done>
</task>

</tasks>

<verification>
Run full metadata validation suite:
```bash
./Scripts/validate-metadata.sh
```

Verify all eight metadata files exist:
```bash
ls -1 AppStoreAssets/Metadata/*.txt | wc -l  # Should output: 8
```

Verify character counts are within limits:
- app-name.txt: ≤30 chars
- subtitle.txt: ≤30 chars
- description.txt: ≤4000 chars (first 250 optimized)
- keywords.txt: ≤100 chars
- promotional-text.txt: ≤170 chars

Verify content quality:
- Description opens with benefit-focused value proposition
- Keywords avoid trademarked terms
- Review notes explain dual sandbox modes clearly
- Copyright uses "© 2026 [Owner]" format
</verification>

<success_criteria>
- [ ] Eight metadata text files exist in AppStoreAssets/Metadata/
- [ ] All character limits verified within App Store Connect constraints
- [ ] Description first 250 chars highlight differentiators (multi-host, gateway, dual modes)
- [ ] Keywords optimized without trademarked terms (97 chars, no "ping" golf trademark)
- [ ] Review notes explain dual sandbox distribution model with testing instructions
- [ ] Validation script passes with ✓ for all files
- [ ] README documents limits, validation workflow, and upload instructions
- [ ] Copyright notice uses "© 2026 Keith Irwin" format
- [ ] Support URL points to GitHub repository
</success_criteria>

<output>
After completion, create `.planning/phases/15-app-store-metadata-and-assets/15-01-SUMMARY.md` documenting:
- All eight metadata files created
- Character count validation results
- First 250 characters content quality
- Keyword optimization choices
- Review notes strategy for dual sandbox explanation
</output>
