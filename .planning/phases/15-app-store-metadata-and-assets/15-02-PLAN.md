---
phase: 15-app-store-metadata-and-assets
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - Scripts/capture-screenshots.sh
  - AppStoreAssets/Screenshots/01-menu-bar-full-interface.png
  - AppStoreAssets/Screenshots/02-multi-host-graph.png
  - AppStoreAssets/Screenshots/03-settings-panel.png
  - AppStoreAssets/Screenshots/04-ping-history-stats.png
  - AppStoreAssets/Screenshots/05-compact-mode.png
autonomous: false
requirements:
  - META-05
  - META-06
  - META-07
  - META-08
  - META-09
  - META-10

must_haves:
  truths:
    - "Five screenshots captured at 2880x1800 resolution"
    - "Screenshot 1 shows menu bar icon and full interface"
    - "Screenshot 2 shows multi-host tabs with real-time graph"
    - "Screenshot 3 shows settings panel"
    - "Screenshot 4 shows ping history with statistics"
    - "Screenshot 5 shows compact mode view"
  artifacts:
    - path: "AppStoreAssets/Screenshots/01-menu-bar-full-interface.png"
      provides: "Menu bar + full interface screenshot"
      dimensions: "2880x1800"
    - path: "AppStoreAssets/Screenshots/02-multi-host-graph.png"
      provides: "Multi-host tabs + graph screenshot"
      dimensions: "2880x1800"
    - path: "AppStoreAssets/Screenshots/03-settings-panel.png"
      provides: "Settings panel screenshot"
      dimensions: "2880x1800"
    - path: "AppStoreAssets/Screenshots/04-ping-history-stats.png"
      provides: "Ping history with statistics screenshot"
      dimensions: "2880x1800"
    - path: "AppStoreAssets/Screenshots/05-compact-mode.png"
      provides: "Compact mode view screenshot"
      dimensions: "2880x1800"
    - path: "Scripts/capture-screenshots.sh"
      provides: "Automated screenshot capture tool"
      executable: true
  key_links:
    - from: "Scripts/capture-screenshots.sh"
      to: "screencapture CLI"
      via: "interactive window selection"
      pattern: "screencapture -o -w"
    - from: "AppStoreAssets/Screenshots/*.png"
      to: "dimension validation"
      via: "sips dimension check"
      pattern: "sips -g pixelWidth -g pixelHeight"
---

<objective>
Create five required App Store screenshots at 2880x1800 resolution with automated capture and validation tooling.

Purpose: Provide professional, properly-sized screenshots showcasing PingScope's key features (menu bar integration, multi-host monitoring, real-time graphs, settings, display modes) for App Store Connect submission.

Output: Five validated 2880x1800 screenshots with capture automation script and dimension verification.
</objective>

<execution_context>
@/Users/keith/.claude/get-shit-done/workflows/execute-plan.md
@/Users/keith/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-app-store-metadata-and-assets/15-RESEARCH.md
@.planning/phases/14-privacy-and-compliance/14-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create screenshot capture automation script</name>
  <files>Scripts/capture-screenshots.sh</files>
  <action>
Create Scripts/capture-screenshots.sh based on research code example with 2880x1800 validation:

```bash
#!/bin/bash
# App Store Screenshot Capture Tool
# Source: Phase 15 Research - macOS screencapture automation
# https://developer.apple.com/help/app-store-connect/reference/screenshot-specifications/

OUTPUT_DIR="AppStoreAssets/Screenshots"
REQUIRED_WIDTH=2880
REQUIRED_HEIGHT=1800

mkdir -p "$OUTPUT_DIR"

echo "App Store Screenshot Capture Tool"
echo "=================================="
echo "Required resolution: ${REQUIRED_WIDTH}x${REQUIRED_HEIGHT} (16:10 aspect ratio)"
echo ""
echo "Instructions:"
echo "1. Set display to 'Default for display' resolution"
echo "2. Position app window center-screen"
echo "3. Follow prompts to capture each screenshot"
echo ""

screenshots=(
    "01-menu-bar-full-interface"
    "02-multi-host-graph"
    "03-settings-panel"
    "04-ping-history-stats"
    "05-compact-mode"
)

for name in "${screenshots[@]}"; do
    echo "Capturing: $name"
    echo "Click the window to capture (or Esc to skip)..."

    # -o: opens captured image in Preview for review
    # -w: captures window (interactive selection)
    screencapture -o -w "$OUTPUT_DIR/${name}.png"

    if [ -f "$OUTPUT_DIR/${name}.png" ]; then
        # Verify dimensions
        width=$(sips -g pixelWidth "$OUTPUT_DIR/${name}.png" | awk '/pixelWidth:/ {print $2}')
        height=$(sips -g pixelHeight "$OUTPUT_DIR/${name}.png" | awk '/pixelHeight:/ {print $2}')

        if [ "$width" -eq "$REQUIRED_WIDTH" ] && [ "$height" -eq "$REQUIRED_HEIGHT" ]; then
            echo "✓ Dimensions verified: ${width}x${height}"
        else
            echo "⚠ WARNING: Dimensions ${width}x${height} don't match required ${REQUIRED_WIDTH}x${REQUIRED_HEIGHT}"
            echo "  Attempting resize..."
            sips -z "$REQUIRED_HEIGHT" "$REQUIRED_WIDTH" "$OUTPUT_DIR/${name}.png"
            echo "✓ Resized to ${REQUIRED_WIDTH}x${REQUIRED_HEIGHT}"
        fi
    else
        echo "⚠ Skipped"
    fi
    echo ""
done

echo "Screenshot capture complete!"
echo "Review files in: $OUTPUT_DIR"
echo ""
echo "Next steps:"
echo "1. Verify screenshots look professional and clear"
echo "2. Check that all required UI elements are visible"
echo "3. Re-capture any screenshots if needed (script is rerunnable)"
```

Make executable:
```bash
chmod +x Scripts/capture-screenshots.sh
```

Script features:
- Interactive window selection with screencapture -o -w
- Automatic dimension validation using sips
- Automatic resize if dimensions don't match 2880x1800
- Opens each screenshot in Preview for immediate review
- Rerunnable (overwrites existing screenshots)
- Progress output with ✓/⚠ indicators

  </action>
  <verify>
Validate script creation:
```bash
test -x Scripts/capture-screenshots.sh && echo "✓ Script is executable"
bash -n Scripts/capture-screenshots.sh && echo "✓ Script syntax valid"
grep -q "2880" Scripts/capture-screenshots.sh && echo "✓ Script targets correct resolution"
grep -q "screencapture -o -w" Scripts/capture-screenshots.sh && echo "✓ Script uses interactive capture"
```

All checks should pass with ✓ output.
  </verify>
  <done>
Screenshot capture script exists at Scripts/capture-screenshots.sh with executable permissions. Script validates 2880x1800 dimensions, uses interactive window selection, automatically resizes if needed, and opens screenshots in Preview for review. Bash syntax is valid.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Capture and verify five App Store screenshots</name>
  <files>AppStoreAssets/Screenshots/*.png</files>
  <action>
Run screenshot capture script to create five App Store screenshots at 2880x1800 resolution.

**Setup:**
1. Set display to native resolution (System Settings > Displays > Use As: Default for display)
2. Launch PingScope app (App Store archive from Phase 14-03 or build PingScope-AppStore scheme)
3. Prepare app states:
   - Add 2-3 custom hosts for variety
   - Let app run for a few minutes to populate graph data
   - Set time range to 10m or 5m for visible graph density

**Capture screenshots:**
```bash
./Scripts/capture-screenshots.sh
```

For each screenshot prompt, configure app and capture:

1. **Menu bar + full interface** - Open full mode interface (click menu bar icon), position window center-screen, show menu bar with PingScope icon visible, ensure status shows active monitoring
2. **Multi-host tabs + graph** - Switch to host with populated graph data, ensure graph shows visible latency curve, show multiple host tabs, time range selector visible
3. **Settings panel** - Open Settings (Cmd+,), show Hosts OR Notifications tab (choose most visually clear), ensure settings content readable
4. **Ping history with statistics** - Switch to full mode, scroll history table to show multiple entries, ensure status column shows mix of Success/Failed, timestamp/latency/status columns visible
5. **Compact mode** - Toggle to compact mode (Display > Compact Mode), position compact window center-screen, ensure latency value and status indicator visible

Each screenshot opens in Preview automatically for review. Re-run script if any screenshot needs adjustment.
  </action>
  <verify>
Manual verification of captured screenshots:

1. **File existence and count:**
```bash
ls -1 AppStoreAssets/Screenshots/*.png | wc -l  # Should output: 5
```

2. **Dimension validation:**
```bash
for f in AppStoreAssets/Screenshots/*.png; do
  sips -g pixelWidth -g pixelHeight "$f"
done
```
All should show: pixelWidth: 2880, pixelHeight: 1800

3. **Content verification (visual check):**
- Screenshot 1: Menu bar icon visible + full interface clearly shown
- Screenshot 2: Multi-host tabs + populated graph (not empty)
- Screenshot 3: Settings panel readable
- Screenshot 4: Ping history with statistics visible
- Screenshot 5: Compact mode layout clear

4. **Quality check:**
- Composition is professional and centered
- No clipping of UI elements
- All text readable
- Screenshots clearly show key PingScope features

Type "approved" if all five screenshots captured successfully with correct dimensions and professional composition.
  </verify>
  <done>
Five screenshots captured at AppStoreAssets/Screenshots/ with 2880x1800 dimensions. Screenshots show: (1) menu bar + full interface, (2) multi-host tabs + graph, (3) settings panel, (4) ping history with stats, (5) compact mode. Human verification approved screenshot quality and composition as professional and ready for App Store Connect.
  </done>
</task>

<task type="auto">
  <name>Task 3: Validate screenshot dimensions and generate verification report</name>
  <files>AppStoreAssets/Screenshots/VERIFICATION.txt</files>
  <action>
After human verification approval, validate all screenshot dimensions and create verification report:

**Dimension validation:**
```bash
echo "Screenshot Dimension Verification" > AppStoreAssets/Screenshots/VERIFICATION.txt
echo "==================================" >> AppStoreAssets/Screenshots/VERIFICATION.txt
echo "" >> AppStoreAssets/Screenshots/VERIFICATION.txt
echo "Captured: $(date)" >> AppStoreAssets/Screenshots/VERIFICATION.txt
echo "Required: 2880x1800 (16:10 aspect ratio)" >> AppStoreAssets/Screenshots/VERIFICATION.txt
echo "" >> AppStoreAssets/Screenshots/VERIFICATION.txt

for f in AppStoreAssets/Screenshots/*.png; do
  width=$(sips -g pixelWidth "$f" | awk '/pixelWidth:/ {print $2}')
  height=$(sips -g pixelHeight "$f" | awk '/pixelHeight:/ {print $2}')
  filesize=$(ls -lh "$f" | awk '{print $5}')

  if [ "$width" -eq 2880 ] && [ "$height" -eq 1800 ]; then
    status="✓ PASS"
  else
    status="✗ FAIL"
  fi

  echo "$status - $(basename "$f"): ${width}x${height} ($filesize)" >> AppStoreAssets/Screenshots/VERIFICATION.txt
done

echo "" >> AppStoreAssets/Screenshots/VERIFICATION.txt
echo "All screenshots ready for App Store Connect upload." >> AppStoreAssets/Screenshots/VERIFICATION.txt

cat AppStoreAssets/Screenshots/VERIFICATION.txt
```

**File count verification:**
```bash
screenshot_count=$(ls -1 AppStoreAssets/Screenshots/*.png 2>/dev/null | wc -l | tr -d ' ')
if [ "$screenshot_count" -eq 5 ]; then
  echo "✓ Five screenshots present (01-05)"
else
  echo "⚠ Expected 5 screenshots, found $screenshot_count"
fi
```

**Verification report format:**
```
Screenshot Dimension Verification
==================================

Captured: 2026-02-17 [timestamp]
Required: 2880x1800 (16:10 aspect ratio)

✓ PASS - 01-menu-bar-full-interface.png: 2880x1800 (1.2M)
✓ PASS - 02-multi-host-graph.png: 2880x1800 (1.5M)
✓ PASS - 03-settings-panel.png: 2880x1800 (980K)
✓ PASS - 04-ping-history-stats.png: 2880x1800 (1.1M)
✓ PASS - 05-compact-mode.png: 2880x1800 (850K)

All screenshots ready for App Store Connect upload.
```

  </action>
  <verify>
Validate verification report:
```bash
test -f AppStoreAssets/Screenshots/VERIFICATION.txt && echo "✓ Verification report exists"
grep -q "✓ PASS" AppStoreAssets/Screenshots/VERIFICATION.txt && echo "✓ At least one screenshot passed"
grep -c "✓ PASS" AppStoreAssets/Screenshots/VERIFICATION.txt  # Should output: 5
ls -1 AppStoreAssets/Screenshots/*.png | wc -l  # Should output: 5
```

All five screenshots should show "✓ PASS" with 2880x1800 dimensions.
  </verify>
  <done>
Verification report created at AppStoreAssets/Screenshots/VERIFICATION.txt showing all five screenshots pass dimension checks at 2880x1800. File count verified at 5 .png files. Screenshots ready for App Store Connect upload.
  </done>
</task>

</tasks>

<verification>
Validate all screenshot deliverables:

**1. Capture script validation:**
```bash
test -x Scripts/capture-screenshots.sh && echo "✓ Capture script executable"
bash -n Scripts/capture-screenshots.sh && echo "✓ Capture script syntax valid"
```

**2. Screenshot file validation:**
```bash
ls -1 AppStoreAssets/Screenshots/*.png | wc -l  # Should output: 5
```

**3. Dimension validation for all screenshots:**
```bash
for f in AppStoreAssets/Screenshots/*.png; do
  sips -g pixelWidth -g pixelHeight "$f" | grep -E "(pixelWidth|pixelHeight)"
done
```

All should show: pixelWidth: 2880, pixelHeight: 1800

**4. Content validation (visual check from checkpoint):**
- Screenshot 1: Menu bar icon visible + full interface
- Screenshot 2: Multi-host tabs + populated graph
- Screenshot 3: Settings panel readable
- Screenshot 4: Ping history with statistics
- Screenshot 5: Compact mode clearly shown

**5. Verification report validation:**
```bash
grep -c "✓ PASS" AppStoreAssets/Screenshots/VERIFICATION.txt  # Should output: 5
```
</verification>

<success_criteria>
- [ ] Screenshot capture script exists and is executable
- [ ] Five PNG screenshots exist in AppStoreAssets/Screenshots/
- [ ] All screenshots are exactly 2880x1800 pixels (16:10 aspect ratio)
- [ ] Screenshot 1 shows menu bar status icon and full interface
- [ ] Screenshot 2 shows multi-host tabs with real-time latency graph
- [ ] Screenshot 3 shows settings panel (Hosts or Notifications tab)
- [ ] Screenshot 4 shows ping history table with statistics
- [ ] Screenshot 5 shows compact mode view
- [ ] Human verification approved screenshot quality and composition
- [ ] Verification report shows all five screenshots pass dimension checks
- [ ] Screenshots are professional quality and ready for App Store Connect upload
</success_criteria>

<output>
After completion, create `.planning/phases/15-app-store-metadata-and-assets/15-02-SUMMARY.md` documenting:
- Screenshot capture workflow and automation
- Dimension validation results (all 2880x1800)
- Screenshot content descriptions
- Human verification approval
- File sizes and verification report
</output>
