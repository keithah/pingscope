---
phase: 06-notifications-settings
plan: 06
type: execute
wave: 5
depends_on: ["06-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Notification permission dialog appears on first launch"
    - "Notifications appear in Notification Center when triggered"
    - "Settings panel opens with Cmd+, and shows all three tabs"
    - "Host settings tab allows add/edit/delete of hosts"
    - "Notification settings persist after app restart"
    - "Display settings work as before"
---

<objective>
Human verification checkpoint to confirm all Phase 6 requirements work correctly.

Purpose: Validate the complete notification and settings implementation before marking phase complete.
Output: Verified working notification system and settings panel.
</objective>

<execution_context>
@/Users/keith/.claude/get-shit-done/workflows/execute-plan.md
@/Users/keith/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-notifications-settings/06-05-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete notification system with 7 alert types and Settings panel with Host/Notification/Display tabs.
  </what-built>
  <how-to-verify>
**Pre-requisites:**
1. Build and run the app: `swift build && .build/debug/PingScope`
2. If prompted, grant notification permission

**Notification System Verification:**

1. **Permission Request (NOTF-01)**
   - First launch should show macOS notification permission dialog
   - Expected: Dialog appears asking to allow notifications

2. **Settings Panel (SETT-01, SETT-02, SETT-03)**
   - Press Cmd+, to open Settings
   - Expected: Window opens with 3 tabs (Hosts, Notifications, Display)
   - Verify each tab:
     - Hosts: Shows host list, can add/edit/delete
     - Notifications: Shows global toggle, alert types, thresholds
     - Display: Shows compact mode and stay-on-top toggles

3. **Notification Persistence (SETT-04, SETT-05)**
   - In Notification settings, toggle some options
   - Quit and restart app
   - Open Settings again
   - Expected: Settings preserved from previous session

4. **Test No Response Alert (NOTF-02)**
   - Add a custom host with an invalid address (e.g., 192.168.255.255)
   - Wait for ping to fail
   - Expected: "No Response" notification appears

5. **Test Recovery Alert (NOTF-04)**
   - If you triggered a no-response alert, remove the failing host
   - Or disconnect/reconnect network briefly
   - Expected: "Recovery" notification when host comes back

6. **Test High Latency Alert (NOTF-03)**
   - In Notification settings, set High Latency threshold very low (e.g., 10ms)
   - Expected: Notification when latency exceeds threshold

7. **Per-Host Notifications (NOTF-09)**
   - Edit a host and disable notifications for it
   - That host should no longer trigger alerts
   - Expected: No notifications from disabled host

8. **Global Disable (NOTF-10)**
   - In Notification settings, disable "Enable Notifications"
   - Expected: No notifications appear for any host

**Note:** Network Change (NOTF-07) and Internet Loss (NOTF-08) are harder to test manually but the code paths exist.
  </how-to-verify>
  <resume-signal>
Type "approved" if all verification steps pass.
If issues found, describe what failed and I will create gap-closure plans.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification of:
- NOTF-01: Permission request
- NOTF-02 through NOTF-10: Alert types and configuration
- SETT-01 through SETT-06: Settings panel and persistence
</verification>

<success_criteria>
All Phase 6 success criteria verified by human tester:
1. App requests notification permission and delivers alerts via macOS Notification Center
2. All 7 alert types work (testable subset verified)
3. User can configure notification settings per-host and globally
4. Settings panel allows host, notification, and display configuration
5. All settings persist via UserDefaults and survive app restart
</success_criteria>

<output>
After completion, create `.planning/phases/06-notifications-settings/06-06-SUMMARY.md`
</output>
